{"ast":null,"code":"import _regeneratorRuntime from\"/home/hp/Documents/Netflix-Clone/Leoflix/netflix/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/hp/Documents/Netflix-Clone/Leoflix/netflix/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/hp/Documents/Netflix-Clone/Leoflix/netflix/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import{useRef}from'react';import{useState}from'react';import{useNavigate}from\"react-router-dom\";import'./register.scss';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Register=function Register(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),username=_useState6[0],setUsername=_useState6[1];var navigate=useNavigate();var emailRef=useRef();var passwordRef=useRef();var usernameRef=useRef();var handleStart=function handleStart(){setEmail(emailRef.current.value);};var handleFinish=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();setPassword(passwordRef.current.value);setUsername(usernameRef.current.value);_context.prev=3;_context.next=6;return axios.post(\"https://leoflix.onrender.com/api/auth/register\",{email:email,username:username,password:password});case 6:navigate(\"/login\");_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](3);console.log(_context.t0);case 12:case\"end\":return _context.stop();}},_callee,null,[[3,9]]);}));return function handleFinish(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"register\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"top\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"logo\",src:\"https://1000logos.net/wp-content/uploads/2017/05/Netflix-Logo.png\",alt:\"\"}),/*#__PURE__*/_jsx(Link,{to:\"/login\",children:/*#__PURE__*/_jsx(\"button\",{className:\"loginButton\",children:\"Sign In\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Unlimited movies, TV shows and more.\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Watch anywhere. Cancel anytime\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Ready to watch? Enter your mail to create or restart your membership.\"}),!email?/*#__PURE__*/_jsxs(\"div\",{className:\"input\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"email address\",ref:emailRef}),/*#__PURE__*/_jsx(\"button\",{className:\"registerButton\",onClick:handleStart,children:\"Get Started\"})]}):/*#__PURE__*/_jsxs(\"form\",{className:\"input\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"username\",placeholder:\"username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"password\",ref:passwordRef}),/*#__PURE__*/_jsx(\"button\",{className:\"registerButton\",onClick:handleFinish,children:\"Start\"})]})]})]});};","map":{"version":3,"names":["axios","useRef","useState","useNavigate","Link","Register","email","setEmail","password","setPassword","username","setUsername","navigate","emailRef","passwordRef","usernameRef","handleStart","current","value","handleFinish","e","preventDefault","post","console","log"],"sources":["/home/hp/Documents/Netflix-Clone/Leoflix/netflix/src/pages/register/Register.jsx"],"sourcesContent":["import axios from 'axios'\nimport { useRef } from 'react'\nimport { useState } from 'react'\nimport {useNavigate} from \"react-router-dom\"\nimport './register.scss'\nimport {Link} from 'react-router-dom'\n\nexport const Register = () => {\n    const[email, setEmail] = useState('')\n    const[password, setPassword] = useState('')\n    const[username, setUsername] = useState('')\n    const navigate=useNavigate()\n    const emailRef=useRef() \n    const passwordRef=useRef()\n    const usernameRef=useRef()\n    const handleStart=()=>{\n        setEmail(emailRef.current.value);\n    }\n    const handleFinish=async(e)=>{\n        e.preventDefault();\n        setPassword(passwordRef.current.value);\n        setUsername(usernameRef.current.value);\n        try{\n            await axios.post(\"https://leoflix.onrender.com/api/auth/register\", {email, username, password})\n            navigate(\"/login\");\n        }\n        catch(err){\n            console.log(err);\n        }\n    }\n  return (\n    <div className='register'>\n        <div className=\"top\">\n            <div className=\"wrapper\">\n            <img\n                className='logo'\n                src='https://1000logos.net/wp-content/uploads/2017/05/Netflix-Logo.png'\n                alt=''\n            />\n            <Link to =\"/login\">\n            <button className='loginButton'>Sign In</button>\n            </Link>\n            </div>\n        </div>\n        <div className=\"container\">\n            <h1>Unlimited movies, TV shows and more.</h1>\n            <h2>Watch anywhere. Cancel anytime</h2>\n            <p>Ready to watch? Enter your mail to create or restart your membership.</p>\n            {!email ? (\n                <div className=\"input\">\n                    <input type=\"email\" placeholder='email address' ref={emailRef}/>\n                    <button className='registerButton' onClick={handleStart}>Get Started</button>\n                </div>\n            ):(\n                <form className=\"input\">\n                    <input type=\"username\" placeholder='username'/>\n                    <input type=\"password\" placeholder='password' ref={passwordRef}/>\n                    <button className='registerButton' onClick={handleFinish}>Start</button>\n                </form>\n            )}\n            \n        </div>\n    </div>\n  )\n}\n"],"mappings":"kaAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,MAAM,KAAQ,OAAO,CAC9B,OAASC,QAAQ,KAAQ,OAAO,CAChC,OAAQC,WAAW,KAAO,kBAAkB,CAC5C,MAAO,iBAAiB,CACxB,OAAQC,IAAI,KAAO,kBAAkB,yFAErC,MAAO,IAAMC,SAAQ,CAAG,QAAXA,SAAQ,EAAS,CAC1B,cAAyBH,QAAQ,CAAC,EAAE,CAAC,wCAA/BI,KAAK,eAAEC,QAAQ,eACrB,eAA+BL,QAAQ,CAAC,EAAE,CAAC,yCAArCM,QAAQ,eAAEC,WAAW,eAC3B,eAA+BP,QAAQ,CAAC,EAAE,CAAC,yCAArCQ,QAAQ,eAAEC,WAAW,eAC3B,GAAMC,SAAQ,CAACT,WAAW,EAAE,CAC5B,GAAMU,SAAQ,CAACZ,MAAM,EAAE,CACvB,GAAMa,YAAW,CAACb,MAAM,EAAE,CAC1B,GAAMc,YAAW,CAACd,MAAM,EAAE,CAC1B,GAAMe,YAAW,CAAC,QAAZA,YAAW,EAAK,CAClBT,QAAQ,CAACM,QAAQ,CAACI,OAAO,CAACC,KAAK,CAAC,CACpC,CAAC,CACD,GAAMC,aAAY,4FAAC,iBAAMC,CAAC,mHACtBA,CAAC,CAACC,cAAc,EAAE,CAClBZ,WAAW,CAACK,WAAW,CAACG,OAAO,CAACC,KAAK,CAAC,CACtCP,WAAW,CAACI,WAAW,CAACE,OAAO,CAACC,KAAK,CAAC,CAAC,sCAE7BlB,MAAK,CAACsB,IAAI,CAAC,gDAAgD,CAAE,CAAChB,KAAK,CAALA,KAAK,CAAEI,QAAQ,CAARA,QAAQ,CAAEF,QAAQ,CAARA,QAAQ,CAAC,CAAC,QAC/FI,QAAQ,CAAC,QAAQ,CAAC,CAAC,+EAGnBW,OAAO,CAACC,GAAG,aAAK,CAAC,mEAExB,kBAXKL,aAAY,4CAWjB,CACH,mBACE,aAAK,SAAS,CAAC,UAAU,wBACrB,YAAK,SAAS,CAAC,KAAK,uBAChB,aAAK,SAAS,CAAC,SAAS,wBACxB,YACI,SAAS,CAAC,MAAM,CAChB,GAAG,CAAC,mEAAmE,CACvE,GAAG,CAAC,EAAE,EACR,cACF,KAAC,IAAI,EAAC,EAAE,CAAE,QAAQ,uBAClB,eAAQ,SAAS,CAAC,aAAa,UAAC,SAAO,EAAS,EACzC,GACD,EACJ,cACN,aAAK,SAAS,CAAC,WAAW,wBACtB,oBAAI,sCAAoC,EAAK,cAC7C,oBAAI,gCAA8B,EAAK,cACvC,mBAAG,uEAAqE,EAAI,CAC3E,CAACb,KAAK,cACH,aAAK,SAAS,CAAC,OAAO,wBAClB,cAAO,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,eAAe,CAAC,GAAG,CAAEO,QAAS,EAAE,cAChE,eAAQ,SAAS,CAAC,gBAAgB,CAAC,OAAO,CAAEG,WAAY,UAAC,aAAW,EAAS,GAC3E,cAEN,cAAM,SAAS,CAAC,OAAO,wBACnB,cAAO,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,UAAU,EAAE,cAC/C,cAAO,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,UAAU,CAAC,GAAG,CAAEF,WAAY,EAAE,cACjE,eAAQ,SAAS,CAAC,gBAAgB,CAAC,OAAO,CAAEK,YAAa,UAAC,OAAK,EAAS,GAE/E,GAEC,GACJ,CAEV,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}