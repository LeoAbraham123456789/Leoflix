{"ast":null,"code":"import _regeneratorRuntime from\"/home/hp/Documents/Netflix-Clone/Leoflix/netflix/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/hp/Documents/Netflix-Clone/Leoflix/netflix/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/hp/Documents/Netflix-Clone/Leoflix/netflix/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{AcUnit}from'@material-ui/icons';import AcUnitIcon from'@mui/icons-material/AcUnit';import Navbar from'../../components/navbar/navbar';import'./home.scss';import Featured from'../../components/featured/featured';import List from'../../components/list/list';import{useState}from'react';import{useEffect}from'react';import{LineAxisOutlined}from'@mui/icons-material';import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(_ref){var type=_ref.type;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),lists=_useState2[0],setLists=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),genre=_useState4[0],setGenre=_useState4[1];useEffect(function(){var getRandomLists=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('https://leoflix.onrender.com/api/lists'+(type?\"?type=\"+type:\"\")+(genre?\"&genre\"+genre:\"\"),{headers:{token:\"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYyZjYxNTQ3NWMwZDBlNDNjZjlkZmMwOCIsImlzQWRtaW4iOnRydWUsImlhdCI6MTY2OTIzMTYyMywiZXhwIjoyNTMzMjMxNjIzfQ.PBibyNQnxuwtGS85pnVBa1nBdenZbt5og0UB3zqyz5k\"}});case 3:res=_context.sent;console.log(res);setLists(res.data);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:;case 12:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function getRandomLists(){return _ref2.apply(this,arguments);};}();getRandomLists();},[type,genre]);return/*#__PURE__*/_jsxs(\"div\",{className:\"home\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(Featured,{type:type,setGenre:setGenre}),lists.map(function(list){return/*#__PURE__*/_jsx(List,{list:list});})]});};export default Home;","map":{"version":3,"names":["React","AcUnit","AcUnitIcon","Navbar","Featured","List","useState","useEffect","LineAxisOutlined","axios","Home","type","lists","setLists","genre","setGenre","getRandomLists","get","headers","token","res","console","log","data","map","list"],"sources":["/home/hp/Documents/Netflix-Clone/Leoflix/netflix/src/pages/Home/home.jsx"],"sourcesContent":["import React from 'react'\nimport { AcUnit } from '@material-ui/icons';\nimport AcUnitIcon from '@mui/icons-material/AcUnit';\nimport Navbar from '../../components/navbar/navbar';\nimport './home.scss';\nimport Featured from '../../components/featured/featured';\nimport List from '../../components/list/list';\nimport { useState } from 'react';\nimport { useEffect } from 'react';\nimport { LineAxisOutlined } from '@mui/icons-material';\nimport axios from \"axios\"\n\nconst Home = ({type}) => {\n  const [lists, setLists]=useState([]);\n  const [genre, setGenre]=useState(null);\n  useEffect(()=>{\n    const getRandomLists = async ()=>{\n      try{\n        const res=await axios.get(\n          'https://leoflix.onrender.com/api/lists'+(type? \"?type=\" + type: \"\")+(genre ? \"&genre\"+genre:\"\"),{\n            headers:{\n              token: \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYyZjYxNTQ3NWMwZDBlNDNjZjlkZmMwOCIsImlzQWRtaW4iOnRydWUsImlhdCI6MTY2OTIzMTYyMywiZXhwIjoyNTMzMjMxNjIzfQ.PBibyNQnxuwtGS85pnVBa1nBdenZbt5og0UB3zqyz5k\"\n            }\n          }\n        );\n        console.log(res);\n        setLists(res.data);\n      }\n      catch(err){\n        console.log(err)\n      };\n    };\n    getRandomLists();\n  },[type, genre]);\n  return (\n    <div className='home'>\n        <Navbar/>\n        <Featured type={type} setGenre={setGenre}/>\n        {lists.map((list)=>(\n          <List list={list}/>\n        ))}\n    </div>\n  )\n}\n\nexport default Home;\n"],"mappings":"kaAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,MAAM,KAAQ,oBAAoB,CAC3C,MAAOC,WAAU,KAAM,4BAA4B,CACnD,MAAOC,OAAM,KAAM,gCAAgC,CACnD,MAAO,aAAa,CACpB,MAAOC,SAAQ,KAAM,oCAAoC,CACzD,MAAOC,KAAI,KAAM,4BAA4B,CAC7C,OAASC,QAAQ,KAAQ,OAAO,CAChC,OAASC,SAAS,KAAQ,OAAO,CACjC,OAASC,gBAAgB,KAAQ,qBAAqB,CACtD,MAAOC,MAAK,KAAM,OAAO,yFAEzB,GAAMC,KAAI,CAAG,QAAPA,KAAI,MAAe,IAAVC,KAAI,MAAJA,IAAI,CACjB,cAAwBL,QAAQ,CAAC,EAAE,CAAC,wCAA7BM,KAAK,eAAEC,QAAQ,eACtB,eAAwBP,QAAQ,CAAC,IAAI,CAAC,yCAA/BQ,KAAK,eAAEC,QAAQ,eACtBR,SAAS,CAAC,UAAI,CACZ,GAAMS,eAAc,6FAAG,kLAEHP,MAAK,CAACQ,GAAG,CACvB,wCAAwC,EAAEN,IAAI,CAAE,QAAQ,CAAGA,IAAI,CAAE,EAAE,CAAC,EAAEG,KAAK,CAAG,QAAQ,CAACA,KAAK,CAAC,EAAE,CAAC,CAAC,CAC/FI,OAAO,CAAC,CACNC,KAAK,CAAE,wMACT,CACF,CAAC,CACF,QANKC,GAAG,eAOTC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAChBP,QAAQ,CAACO,GAAG,CAACG,IAAI,CAAC,CAAC,+EAGnBF,OAAO,CAACC,GAAG,aAAK,SACjB,CAAC,mEACH,kBAfKN,eAAc,2CAenB,CACDA,cAAc,EAAE,CAClB,CAAC,CAAC,CAACL,IAAI,CAAEG,KAAK,CAAC,CAAC,CAChB,mBACE,aAAK,SAAS,CAAC,MAAM,wBACjB,KAAC,MAAM,IAAE,cACT,KAAC,QAAQ,EAAC,IAAI,CAAEH,IAAK,CAAC,QAAQ,CAAEI,QAAS,EAAE,CAC1CH,KAAK,CAACY,GAAG,CAAC,SAACC,IAAI,qBACd,KAAC,IAAI,EAAC,IAAI,CAAEA,IAAK,EAAE,EACpB,CAAC,GACA,CAEV,CAAC,CAED,cAAef,KAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}