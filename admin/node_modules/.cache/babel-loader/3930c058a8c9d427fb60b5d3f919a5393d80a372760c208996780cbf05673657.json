{"ast":null,"code":"import _defineProperty from\"/home/hp/Documents/Netflix-Clone/Leoflix/admin/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/hp/Documents/Netflix-Clone/Leoflix/admin/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/hp/Documents/Netflix-Clone/Leoflix/admin/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useHistory}from\"react\";import storage from\"../../firebase\";import\"./newList.scss\";import{ref,uploadBytes,uploadBytesResumable,getDownloadURL}from\"firebase/storage\";import{useContext}from\"react\";import{MovieContext}from\"../../context/movieContext/MovieContext\";import{createMovies,getMovies}from\"../../context/movieContext/apiCalls\";import{ListContext}from\"../../context/listContext/ListContext\";import{useEffect}from\"react\";import{createList}from\"../../context/listContext/apiCalls\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function NewList(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),list=_useState2[0],setList=_useState2[1];// const history=useHistory()\nvar _useContext=useContext(ListContext),dispatch=_useContext.dispatch;var _useContext2=useContext(MovieContext),movies=_useContext2.movies,dispatchMovie=_useContext2.dispatch;useEffect(function(){getMovies(dispatchMovie);},[dispatchMovie]);var handleChange=function handleChange(e){var value=e.target.value;setList(_objectSpread(_objectSpread({},list),{},_defineProperty({},e.target.name,value)));};var handleSelect=function handleSelect(e){var value=Array.from(e.target.selectedOptions,function(option){return option.value;});setList(_objectSpread(_objectSpread({},list),{},_defineProperty({},e.target.name,value)));};var handleSubmit=function handleSubmit(e){e.preventDefault();createList(list,dispatch);// history.push(\"/lists\");\n};return/*#__PURE__*/_jsxs(\"div\",{className:\"newProduct\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"addProductTitle\",children:\"New List\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"addProductForm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"formleft\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"addProductItem\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Popular Movies\",name:\"title\",onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"addProductItem\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Genre\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"action\",name:\"genre\",onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"addProductItem\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Type\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"type\",onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{children:\"Type\"}),/*#__PURE__*/_jsx(\"option\",{value:\"movie\",children:\"Movie\"}),/*#__PURE__*/_jsx(\"option\",{value:\"series\",children:\"Series\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"formRight\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"addProductItem\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Content\"}),/*#__PURE__*/_jsx(\"select\",{multiple:true,name:\"content\",onChange:handleSelect,style:{height:\"280px\"},children:movies.map(function(movie){return/*#__PURE__*/_jsx(\"option\",{value:movie._id,children:movie.title},movie._id);})})]})}),/*#__PURE__*/_jsx(\"button\",{className:\"addProductButton\",onClick:handleSubmit,children:\"Create\"})]})]});}","map":{"version":3,"names":["useState","useHistory","storage","ref","uploadBytes","uploadBytesResumable","getDownloadURL","useContext","MovieContext","createMovies","getMovies","ListContext","useEffect","createList","NewList","list","setList","dispatch","movies","dispatchMovie","handleChange","e","value","target","name","handleSelect","Array","from","selectedOptions","option","handleSubmit","preventDefault","height","map","movie","_id","title"],"sources":["/home/hp/Documents/Netflix-Clone/Leoflix/admin/src/pages/newList/NewList.jsx"],"sourcesContent":["import { useState, useHistory } from \"react\";\nimport storage from \"../../firebase\";\nimport \"./newList.scss\";\nimport {\n  ref,\n  uploadBytes,\n  uploadBytesResumable,\n  getDownloadURL,\n} from \"firebase/storage\";\nimport { useContext } from \"react\";\nimport { MovieContext } from \"../../context/movieContext/MovieContext\";\nimport { createMovies, getMovies } from \"../../context/movieContext/apiCalls\";\nimport { ListContext } from \"../../context/listContext/ListContext\";\nimport { useEffect } from \"react\";\nimport { createList } from \"../../context/listContext/apiCalls\";\n\nexport default function NewList() {\n  const [list, setList] = useState(null);\n  // const history=useHistory()\n  const { dispatch } = useContext(ListContext);\n  const { movies, dispatch: dispatchMovie } = useContext(MovieContext);\n\n  useEffect(()=>{\n    getMovies(dispatchMovie)\n  },[dispatchMovie])\n\n  const handleChange = (e) => {\n    const value = e.target.value;\n    setList({ ...list, [e.target.name]: value });\n  };\n  const handleSelect=(e)=>{\n    let value=Array.from(e.target.selectedOptions,(option)=>option.value);\n    setList({...list,[e.target.name]:value});\n  }\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    createList(list,dispatch);\n    // history.push(\"/lists\");\n  };\n\n  return (\n    <div className=\"newProduct\">\n      <h1 className=\"addProductTitle\">New List</h1>\n      <form className=\"addProductForm\">\n        <div className=\"formleft\">\n\n        <div className=\"addProductItem\">\n          <label>Title</label>\n          <input\n            type=\"text\"\n            placeholder=\"Popular Movies\"\n            name=\"title\"\n            onChange={handleChange}\n            />\n        </div>\n        <div className=\"addProductItem\">\n          <label>Genre</label>\n          <input\n            type=\"text\"\n            placeholder=\"action\"\n            name=\"genre\"\n            onChange={handleChange}\n            />\n        </div>\n        <div className=\"addProductItem\">\n          <label>Type</label>\n          <select name=\"type\" onChange={handleChange}>\n            <option>Type</option>\n            <option value=\"movie\">Movie</option>\n            <option value=\"series\">Series</option>\n          </select>\n        </div>\n            </div>\n            <div className=\"formRight\">\n\n        <div className=\"addProductItem\">\n          <label>Content</label>\n          <select multiple name=\"content\" onChange={handleSelect} style={{height:\"280px\"}}>\n            {movies.map((movie) => (\n              <option key={movie._id} value={movie._id}>{movie.title}</option>\n              ))}\n          </select>\n              </div>\n        </div>\n        <button className=\"addProductButton\" onClick={handleSubmit}>\n          Create\n        </button>\n      </form>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}