{"ast":null,"code":"import{Link,useLocation}from\"react-router-dom\";import\"./singleList.scss\";import{Publish}from\"@mui/icons-material\";import{useState}from\"react\";import storage from\"../../firebase\";import{ref,uploadBytes,uploadBytesResumable,getDownloadURL}from\"firebase/storage\";import{useContext}from\"react\";import{MovieContext}from\"../../context/movieContext/MovieContext\";import{updateMovies}from\"../../context/movieContext/apiCalls\";import{ListContext}from\"../../context/listContext/ListContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function List(){var list=JSON.parse(localStorage.getItem(\"list\"));// const [updateMovie, setMovie] = useState(movie);\n// const [img, setImg] = useState(movie.img);\n// const [trailer, setTrailer] = useState(movie.trailer);\n// const [video, setVideo] = useState(movie.video);\n// const [uploaded, setUploaded] = useState(0);\nvar _useContext=useContext(ListContext),dispatch=_useContext.dispatch;var handleChange=function handleChange(e){// const value = e.target.value;\n// setMovie({ ...updateMovie, [e.target.name]: value });\n};// const upload = (items) => {\n//   items.forEach((item) => {\n//     const fileName = new Date().getTime() + item.label + item.file.name;\n//     const storageRef = ref(storage, \"/items/\" + fileName);\n//     const uploadTask = uploadBytesResumable(storageRef, item.file);\n//     uploadTask.on(\n//       \"state_changed\",\n//       (snapshot) => {\n//         console.log(snapshot.bytesTransferred);\n//         const progress = Math.round(\n//           (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n//         );\n//         console.log(\"Upload is : \" + progress + \"%\");\n//       },\n//       (err) => {\n//         console.log(err);\n//       },\n//       () => {\n//         getDownloadURL(uploadTask.snapshot.ref).then((url) => {\n//           setMovie((prev) => {\n//             return { ...prev, [item.label]: url };\n//           });\n//           setUploaded((prev) => prev + 1);\n//         });\n//       }\n//     );\n//   });\n// };\nvar handleUpdate=function handleUpdate(e){// e.preventDefault();\n// upload([\n//   { file: img, label: \"img\" },\n//   { file: trailer, label: \"trailer\" },\n//   { file: video, label: \"video\" },\n// ]);\n};// const handleSubmit = (e) => {\n//   e.preventDefault();\n//   updateMovies(updateMovie, movie._id, dispatch);\n// };\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"product\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"productTitleContainer\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"productTitle\",children:\"List\"}),/*#__PURE__*/_jsx(Link,{to:\"/lists/new\",children:/*#__PURE__*/_jsx(\"button\",{className:\"productAddButton\",children:\"Create\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"productTop\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"productTopRight\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"productInfoTop\",children:/*#__PURE__*/_jsx(\"span\",{className:\"productName\",children:list.title})}),/*#__PURE__*/_jsxs(\"div\",{className:\"productInfoBottom\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"productInfoItem\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"productInfoKey\",children:\"id:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"productInfoValue\",children:list._id})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"productInfoItem\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"productInfoKey\",children:\"genre:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"productInfoValue\",children:list.genre})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"productInfoItem\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"productInfoKey\",children:\"type:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"productInfoValue\",children:list.type})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"productBottom\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"productForm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"productFormLeft\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"List Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:list.title,name:\"title\",onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{children:\"Year\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:list.type,name:\"year\",onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{children:\"Genre\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:list.genre,name:\"genre\",onChange:handleChange})]}),/*#__PURE__*/_jsx(\"div\",{className:\"productFormRight\",children:/*#__PURE__*/_jsx(\"button\",{className:\"productButton\",onClick:handleUpdate,children:\"Update\"})})]})})]});}","map":{"version":3,"names":["Link","useLocation","Publish","useState","storage","ref","uploadBytes","uploadBytesResumable","getDownloadURL","useContext","MovieContext","updateMovies","ListContext","List","list","JSON","parse","localStorage","getItem","dispatch","handleChange","e","handleUpdate","title","_id","genre","type"],"sources":["/home/hp/Documents/Netflix-Clone/Leoflix/admin/src/pages/singleList/SingleList.jsx"],"sourcesContent":["import { Link, useLocation } from \"react-router-dom\";\nimport \"./singleList.scss\";\nimport { Publish } from \"@mui/icons-material\";\nimport { useState } from \"react\";\nimport storage from \"../../firebase\";\nimport {\n  ref,\n  uploadBytes,\n  uploadBytesResumable,\n  getDownloadURL,\n} from \"firebase/storage\";\nimport { useContext } from \"react\";\nimport { MovieContext } from \"../../context/movieContext/MovieContext\";\nimport { updateMovies } from \"../../context/movieContext/apiCalls\";\nimport { ListContext } from \"../../context/listContext/ListContext\";\n\nexport default function List() {\n  const list = JSON.parse(localStorage.getItem(\"list\"));\n  // const [updateMovie, setMovie] = useState(movie);\n  // const [img, setImg] = useState(movie.img);\n  // const [trailer, setTrailer] = useState(movie.trailer);\n  // const [video, setVideo] = useState(movie.video);\n  // const [uploaded, setUploaded] = useState(0);\n\n  const { dispatch } = useContext(ListContext);\n\n  const handleChange = (e) => {\n    // const value = e.target.value;\n    // setMovie({ ...updateMovie, [e.target.name]: value });\n  };\n\n  // const upload = (items) => {\n  //   items.forEach((item) => {\n  //     const fileName = new Date().getTime() + item.label + item.file.name;\n  //     const storageRef = ref(storage, \"/items/\" + fileName);\n  //     const uploadTask = uploadBytesResumable(storageRef, item.file);\n  //     uploadTask.on(\n  //       \"state_changed\",\n  //       (snapshot) => {\n  //         console.log(snapshot.bytesTransferred);\n  //         const progress = Math.round(\n  //           (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n  //         );\n  //         console.log(\"Upload is : \" + progress + \"%\");\n  //       },\n  //       (err) => {\n  //         console.log(err);\n  //       },\n  //       () => {\n  //         getDownloadURL(uploadTask.snapshot.ref).then((url) => {\n  //           setMovie((prev) => {\n  //             return { ...prev, [item.label]: url };\n  //           });\n  //           setUploaded((prev) => prev + 1);\n  //         });\n  //       }\n  //     );\n  //   });\n  // };\n  const handleUpdate = (e) => {\n    // e.preventDefault();\n    // upload([\n    //   { file: img, label: \"img\" },\n    //   { file: trailer, label: \"trailer\" },\n    //   { file: video, label: \"video\" },\n    // ]);\n  };\n  // const handleSubmit = (e) => {\n  //   e.preventDefault();\n  //   updateMovies(updateMovie, movie._id, dispatch);\n  // };\n\n  return (\n    <div className=\"product\">\n      <div className=\"productTitleContainer\">\n        <h1 className=\"productTitle\">List</h1>\n        <Link to=\"/lists/new\">\n          <button className=\"productAddButton\">Create</button>\n        </Link>\n      </div>\n      <div className=\"productTop\">\n        <div className=\"productTopRight\">\n          <div className=\"productInfoTop\">\n            <span className=\"productName\">{list.title}</span>\n          </div>\n          <div className=\"productInfoBottom\">\n            <div className=\"productInfoItem\">\n              <span className=\"productInfoKey\">id:</span>\n              <span className=\"productInfoValue\">{list._id}</span>\n            </div>\n            <div className=\"productInfoItem\">\n              <span className=\"productInfoKey\">genre:</span>\n              <span className=\"productInfoValue\">{list.genre}</span>\n            </div>\n            <div className=\"productInfoItem\">\n              <span className=\"productInfoKey\">type:</span>\n              <span className=\"productInfoValue\">{list.type}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"productBottom\">\n        <form className=\"productForm\">\n          <div className=\"productFormLeft\">\n            <label>List Title</label>\n            <input\n              type=\"text\"\n              placeholder={list.title}\n              name=\"title\"\n              onChange={handleChange}\n            />\n            <label>Year</label>\n            <input\n              type=\"text\"\n              placeholder={list.type}\n              name=\"year\"\n              onChange={handleChange}\n            />\n            <label>Genre</label>\n            <input\n              type=\"text\"\n              placeholder={list.genre}\n              name=\"genre\"\n              onChange={handleChange}\n            />\n          </div>\n          <div className=\"productFormRight\">\n              <button className=\"productButton\" onClick={handleUpdate}>\n                Update\n              </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}