{"ast":null,"code":"import'./movieList.scss';import{DataGrid}from'@mui/x-data-grid';import{DeleteOutline}from'@mui/icons-material';import{productRows}from\"../../dummyData\";import{Link}from\"react-router-dom\";import{useState}from'react';import{useContext}from'react';import{MovieContext}from\"../../context/movieContext/MovieContext\";import{useEffect}from'react';import{deleteMovies,getMovies}from'../../context/movieContext/apiCalls';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function MovieList(){var _useContext=useContext(MovieContext),movies=_useContext.movies,dispatch=_useContext.dispatch;useEffect(function(){getMovies(dispatch);},[dispatch]);var handleDelete=function handleDelete(id){deleteMovies(id,dispatch);};var columns=[{field:\"_id\",headerName:\"ID\",width:90},{field:\"movie\",headerName:\"Movie\",width:200,renderCell:function renderCell(params){return/*#__PURE__*/_jsxs(\"div\",{className:\"productListItem\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"productListImg\",src:params.row.img,alt:\"\"}),params.row.title]});}},{field:\"genre\",headerName:\"Genre\",width:120},{field:\"year\",headerName:\"Year\",width:120},{field:\"limit\",headerName:\"Limit\",width:120},{field:\"isSeries\",headerName:\"isSeries\",width:120},{field:\"action\",headerName:\"Action\",width:150,renderCell:function renderCell(params){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:{pathname:\"https://leoflix.onrender.com/api/movies/\"+params.row.id},children:/*#__PURE__*/_jsx(\"button\",{className:\"productListEdit\",onClick:function onClick(){return localStorage.setItem(\"movie\",JSON.stringify(params.row));},children:\"Edit\"})}),/*#__PURE__*/_jsx(DeleteOutline,{className:\"productListDelete\",onClick:function onClick(){return handleDelete(params.row._id);}})]});}}];return/*#__PURE__*/_jsx(\"div\",{className:\"productList\",children:/*#__PURE__*/_jsx(DataGrid,{rows:movies,disableSelectionOnClick:true,columns:columns// pageSize={8}\n// rowsPerPageOptions={[8]}\n,checkboxSelection:true,getRowId:function getRowId(r){return r._id;}})});}","map":{"version":3,"names":["DataGrid","DeleteOutline","productRows","Link","useState","useContext","MovieContext","useEffect","deleteMovies","getMovies","MovieList","movies","dispatch","handleDelete","id","columns","field","headerName","width","renderCell","params","row","img","title","pathname","localStorage","setItem","JSON","stringify","_id","r"],"sources":["/home/hp/Documents/Netflix-Clone/Leoflix/admin/src/pages/movieList/MovieList.jsx"],"sourcesContent":["import './movieList.scss';\nimport {DataGrid} from '@mui/x-data-grid'\nimport { DeleteOutline } from '@mui/icons-material';\nimport {productRows} from \"../../dummyData\"\nimport {Link} from \"react-router-dom\"\nimport { useState } from 'react';\nimport { useContext } from 'react';\nimport {MovieContext} from \"../../context/movieContext/MovieContext\"\nimport { useEffect } from 'react';\nimport { deleteMovies, getMovies } from '../../context/movieContext/apiCalls';\n\nexport default function MovieList() {\n  \n  const {movies, dispatch}=useContext(MovieContext);\n\n  useEffect(()=>{\n    getMovies(dispatch);\n  },[dispatch]);\n\n  const handleDelete = (id) => {\n    deleteMovies(id, dispatch);\n  };\n\n  const columns = [\n    { field: \"_id\", headerName: \"ID\", width: 90 },\n    {\n      field: \"movie\",\n      headerName: \"Movie\",\n      width: 200,\n      renderCell: (params) => {\n        \n        return (\n          <div className=\"productListItem\">\n            <img className=\"productListImg\" src={params.row.img} alt=\"\" />\n            {params.row.title}\n          </div>\n        );\n      },\n    },\n    { field: \"genre\", headerName: \"Genre\", width: 120 },\n    { field: \"year\", headerName: \"Year\", width: 120 },\n    { field: \"limit\", headerName: \"Limit\", width: 120 },\n    { field: \"isSeries\", headerName: \"isSeries\", width: 120 },\n    {\n      field: \"action\",\n      headerName: \"Action\",\n      width: 150,\n      renderCell: (params) => {\n        return (\n          <>\n            <Link to={{pathname: \"https://leoflix.onrender.com/api/movies/\" + params.row.id}}>\n              <button className=\"productListEdit\" onClick={()=>localStorage.setItem(\"movie\", JSON.stringify(params.row))}>Edit</button>\n            </Link>\n            <DeleteOutline\n              className=\"productListDelete\"\n              onClick={() => handleDelete(params.row._id)}\n            />\n          </>\n        );\n      },\n    },\n  ];\n\n  return (\n    <div className=\"productList\">\n      <DataGrid\n        rows={movies}\n        disableSelectionOnClick\n        columns={columns}\n        // pageSize={8}\n        // rowsPerPageOptions={[8]}\n        checkboxSelection\n        getRowId={(r)=>r._id}\n      />\n    </div>\n  );\n}\n"],"mappings":"AAAA,MAAO,kBAAkB,CACzB,OAAQA,QAAQ,KAAO,kBAAkB,CACzC,OAASC,aAAa,KAAQ,qBAAqB,CACnD,OAAQC,WAAW,KAAO,iBAAiB,CAC3C,OAAQC,IAAI,KAAO,kBAAkB,CACrC,OAASC,QAAQ,KAAQ,OAAO,CAChC,OAASC,UAAU,KAAQ,OAAO,CAClC,OAAQC,YAAY,KAAO,yCAAyC,CACpE,OAASC,SAAS,KAAQ,OAAO,CACjC,OAASC,YAAY,CAAEC,SAAS,KAAQ,qCAAqC,CAAC,6IAE9E,cAAe,SAASC,UAAS,EAAG,CAElC,gBAAyBL,UAAU,CAACC,YAAY,CAAC,CAA1CK,MAAM,aAANA,MAAM,CAAEC,QAAQ,aAARA,QAAQ,CAEvBL,SAAS,CAAC,UAAI,CACZE,SAAS,CAACG,QAAQ,CAAC,CACrB,CAAC,CAAC,CAACA,QAAQ,CAAC,CAAC,CAEb,GAAMC,aAAY,CAAG,QAAfA,aAAY,CAAIC,EAAE,CAAK,CAC3BN,YAAY,CAACM,EAAE,CAAEF,QAAQ,CAAC,CAC5B,CAAC,CAED,GAAMG,QAAO,CAAG,CACd,CAAEC,KAAK,CAAE,KAAK,CAAEC,UAAU,CAAE,IAAI,CAAEC,KAAK,CAAE,EAAG,CAAC,CAC7C,CACEF,KAAK,CAAE,OAAO,CACdC,UAAU,CAAE,OAAO,CACnBC,KAAK,CAAE,GAAG,CACVC,UAAU,CAAE,oBAACC,MAAM,CAAK,CAEtB,mBACE,aAAK,SAAS,CAAC,iBAAiB,wBAC9B,YAAK,SAAS,CAAC,gBAAgB,CAAC,GAAG,CAAEA,MAAM,CAACC,GAAG,CAACC,GAAI,CAAC,GAAG,CAAC,EAAE,EAAG,CAC7DF,MAAM,CAACC,GAAG,CAACE,KAAK,GACb,CAEV,CACF,CAAC,CACD,CAAEP,KAAK,CAAE,OAAO,CAAEC,UAAU,CAAE,OAAO,CAAEC,KAAK,CAAE,GAAI,CAAC,CACnD,CAAEF,KAAK,CAAE,MAAM,CAAEC,UAAU,CAAE,MAAM,CAAEC,KAAK,CAAE,GAAI,CAAC,CACjD,CAAEF,KAAK,CAAE,OAAO,CAAEC,UAAU,CAAE,OAAO,CAAEC,KAAK,CAAE,GAAI,CAAC,CACnD,CAAEF,KAAK,CAAE,UAAU,CAAEC,UAAU,CAAE,UAAU,CAAEC,KAAK,CAAE,GAAI,CAAC,CACzD,CACEF,KAAK,CAAE,QAAQ,CACfC,UAAU,CAAE,QAAQ,CACpBC,KAAK,CAAE,GAAG,CACVC,UAAU,CAAE,oBAACC,MAAM,CAAK,CACtB,mBACE,wCACE,KAAC,IAAI,EAAC,EAAE,CAAE,CAACI,QAAQ,CAAE,0CAA0C,CAAGJ,MAAM,CAACC,GAAG,CAACP,EAAE,CAAE,uBAC/E,eAAQ,SAAS,CAAC,iBAAiB,CAAC,OAAO,CAAE,yBAAIW,aAAY,CAACC,OAAO,CAAC,OAAO,CAAEC,IAAI,CAACC,SAAS,CAACR,MAAM,CAACC,GAAG,CAAC,CAAC,EAAC,UAAC,MAAI,EAAS,EACpH,cACP,KAAC,aAAa,EACZ,SAAS,CAAC,mBAAmB,CAC7B,OAAO,CAAE,yBAAMR,aAAY,CAACO,MAAM,CAACC,GAAG,CAACQ,GAAG,CAAC,EAAC,EAC5C,GACD,CAEP,CACF,CAAC,CACF,CAED,mBACE,YAAK,SAAS,CAAC,aAAa,uBAC1B,KAAC,QAAQ,EACP,IAAI,CAAElB,MAAO,CACb,uBAAuB,MACvB,OAAO,CAAEI,OACT;AACA;AAAA,CACA,iBAAiB,MACjB,QAAQ,CAAE,kBAACe,CAAC,QAAGA,EAAC,CAACD,GAAG,EAAC,EACrB,EACE,CAEV"},"metadata":{},"sourceType":"module","externalDependencies":[]}