{"ast":null,"code":"import _regeneratorRuntime from\"/home/hp/Documents/Netflix-Clone/Leoflix/admin/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/hp/Documents/Netflix-Clone/Leoflix/admin/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from'axios';import{updateMovieStart,updateMovieSuccess,updateMovieFailure,createMovieStart,createMovieSuccess,createMovieFailure,getMovieFailure,deleteMovieStart,deleteMovieSuccess,deleteMovieFailure,getMovieStart,getMovieSuccess}from'./MovieActions';export var getMovies=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:dispatch(getMovieStart());_context.prev=1;_context.next=4;return axios.get(\"https://leoflix.onrender.com/api/movies\",{headers:{token:\"Bearer \"+JSON.parse(localStorage.getItem(\"user\")).accessToken}});case 4:res=_context.sent;dispatch(getMovieSuccess(res.data));_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);dispatch(getMovieFailure());case 11:case\"end\":return _context.stop();}},_callee,null,[[1,8]]);}));return function getMovies(_x){return _ref.apply(this,arguments);};}();export var createMovies=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(movie,dispatch){var res;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:dispatch(createMovieStart());_context2.prev=1;_context2.next=4;return axios.post(\"https://leoflix.onrender.com/api/movies\",movie,{headers:{token:\"Bearer \"+JSON.parse(localStorage.getItem(\"user\")).accessToken}});case 4:res=_context2.sent;dispatch(createMovieSuccess(res.data));_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);dispatch(createMovieFailure());case 11:case\"end\":return _context2.stop();}},_callee2,null,[[1,8]]);}));return function createMovies(_x2,_x3){return _ref2.apply(this,arguments);};}();export var updateMovies=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(movie,id,dispatch){var res;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:dispatch(updateMovieStart());_context3.prev=1;_context3.next=4;return axios.put(\"https://leoflix.onrender.com/api/movies/\"+id,movie,{headers:{token:\"Bearer \"+JSON.parse(localStorage.getItem(\"user\")).accessToken}});case 4:res=_context3.sent;dispatch(updateMovieSuccess(res.data));_context3.next=11;break;case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](1);dispatch(updateMovieFailure());case 11:case\"end\":return _context3.stop();}},_callee3,null,[[1,8]]);}));return function updateMovies(_x4,_x5,_x6){return _ref3.apply(this,arguments);};}();export var deleteMovies=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(id,dispatch){return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:dispatch(deleteMovieStart());_context4.prev=1;_context4.next=4;return axios.delete(\"https://leoflix.onrender.com/api/movies/\"+id,{headers:{token:\"Bearer \"+JSON.parse(localStorage.getItem(\"user\")).accessToken}});case 4:dispatch(deleteMovieSuccess(id));_context4.next=10;break;case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](1);dispatch(deleteMovieFailure());case 10:case\"end\":return _context4.stop();}},_callee4,null,[[1,7]]);}));return function deleteMovies(_x7,_x8){return _ref4.apply(this,arguments);};}();","map":{"version":3,"names":["axios","updateMovieStart","updateMovieSuccess","updateMovieFailure","createMovieStart","createMovieSuccess","createMovieFailure","getMovieFailure","deleteMovieStart","deleteMovieSuccess","deleteMovieFailure","getMovieStart","getMovieSuccess","getMovies","dispatch","get","headers","token","JSON","parse","localStorage","getItem","accessToken","res","data","createMovies","movie","post","updateMovies","id","put","deleteMovies","delete"],"sources":["/home/hp/Documents/Netflix-Clone/Leoflix/admin/src/context/movieContext/apiCalls.jsx"],"sourcesContent":["import axios from 'axios'\nimport { updateMovieStart, updateMovieSuccess, updateMovieFailure, createMovieStart, createMovieSuccess, createMovieFailure, getMovieFailure, deleteMovieStart, deleteMovieSuccess, deleteMovieFailure, getMovieStart, getMovieSuccess } from './MovieActions'\n\nexport const getMovies=async(dispatch)=>{\n    dispatch(getMovieStart());\n    try{\n        const res=await axios.get(\"https://leoflix.onrender.com/api/movies\",{headers: {\n            token: \"Bearer \"+JSON.parse(localStorage.getItem(\"user\")).accessToken\n        },});\n        dispatch(getMovieSuccess(res.data));\n    }catch(err){\n        dispatch(getMovieFailure());\n    }\n}\n\nexport const createMovies=async(movie,dispatch)=>{\n    dispatch(createMovieStart());\n    try{\n        const res=await axios.post(\"https://leoflix.onrender.com/api/movies\",movie,{headers: {\n            token: \"Bearer \"+JSON.parse(localStorage.getItem(\"user\")).accessToken\n        },});\n        dispatch(createMovieSuccess(res.data));\n    }catch(err){\n        dispatch(createMovieFailure());\n    }\n}\n\nexport const updateMovies=async(movie, id,dispatch)=>{\n    dispatch(updateMovieStart());\n    try{\n        const res=await axios.put(\"https://leoflix.onrender.com/api/movies/\"+id,movie,{headers: {\n            token: \"Bearer \"+JSON.parse(localStorage.getItem(\"user\")).accessToken\n        },});\n        dispatch(updateMovieSuccess(res.data));\n    }catch(err){\n        dispatch(updateMovieFailure());\n    }\n}\n\nexport const deleteMovies=async(id,dispatch)=>{\n    dispatch(deleteMovieStart());\n    try{\n        await axios.delete(\"https://leoflix.onrender.com/api/movies/\"+id,{headers: {\n            token: \"Bearer \"+JSON.parse(localStorage.getItem(\"user\")).accessToken\n        },});\n        dispatch(deleteMovieSuccess(id));\n    }catch(err){\n        dispatch(deleteMovieFailure());\n    }\n}"],"mappings":"wRAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,gBAAgB,CAAEC,kBAAkB,CAAEC,kBAAkB,CAAEC,gBAAgB,CAAEC,kBAAkB,CAAEC,kBAAkB,CAAEC,eAAe,CAAEC,gBAAgB,CAAEC,kBAAkB,CAAEC,kBAAkB,CAAEC,aAAa,CAAEC,eAAe,KAAQ,gBAAgB,CAE9P,MAAO,IAAMC,UAAS,4FAAC,iBAAMC,QAAQ,2HACjCA,QAAQ,CAACH,aAAa,EAAE,CAAC,CAAC,sCAENX,MAAK,CAACe,GAAG,CAAC,yCAAyC,CAAC,CAACC,OAAO,CAAE,CAC1EC,KAAK,CAAE,SAAS,CAACC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAACC,WAC9D,CAAE,CAAC,CAAC,QAFEC,GAAG,eAGTT,QAAQ,CAACF,eAAe,CAACW,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,+EAEpCV,QAAQ,CAACP,eAAe,EAAE,CAAC,CAAC,mEAEnC,kBAVYM,UAAS,4CAUrB,CAED,MAAO,IAAMY,aAAY,6FAAC,kBAAMC,KAAK,CAACZ,QAAQ,+HAC1CA,QAAQ,CAACV,gBAAgB,EAAE,CAAC,CAAC,wCAETJ,MAAK,CAAC2B,IAAI,CAAC,yCAAyC,CAACD,KAAK,CAAC,CAACV,OAAO,CAAE,CACjFC,KAAK,CAAE,SAAS,CAACC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAACC,WAC9D,CAAE,CAAC,CAAC,QAFEC,GAAG,gBAGTT,QAAQ,CAACT,kBAAkB,CAACkB,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,mFAEvCV,QAAQ,CAACR,kBAAkB,EAAE,CAAC,CAAC,qEAEtC,kBAVYmB,aAAY,kDAUxB,CAED,MAAO,IAAMG,aAAY,6FAAC,kBAAMF,KAAK,CAAEG,EAAE,CAACf,QAAQ,+HAC9CA,QAAQ,CAACb,gBAAgB,EAAE,CAAC,CAAC,wCAETD,MAAK,CAAC8B,GAAG,CAAC,0CAA0C,CAACD,EAAE,CAACH,KAAK,CAAC,CAACV,OAAO,CAAE,CACpFC,KAAK,CAAE,SAAS,CAACC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAACC,WAC9D,CAAE,CAAC,CAAC,QAFEC,GAAG,gBAGTT,QAAQ,CAACZ,kBAAkB,CAACqB,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,mFAEvCV,QAAQ,CAACX,kBAAkB,EAAE,CAAC,CAAC,qEAEtC,kBAVYyB,aAAY,sDAUxB,CAED,MAAO,IAAMG,aAAY,6FAAC,kBAAMF,EAAE,CAACf,QAAQ,uHACvCA,QAAQ,CAACN,gBAAgB,EAAE,CAAC,CAAC,wCAEnBR,MAAK,CAACgC,MAAM,CAAC,0CAA0C,CAACH,EAAE,CAAC,CAACb,OAAO,CAAE,CACvEC,KAAK,CAAE,SAAS,CAACC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAACC,WAC9D,CAAE,CAAC,CAAC,QACJR,QAAQ,CAACL,kBAAkB,CAACoB,EAAE,CAAC,CAAC,CAAC,mFAEjCf,QAAQ,CAACJ,kBAAkB,EAAE,CAAC,CAAC,qEAEtC,kBAVYqB,aAAY,kDAUxB"},"metadata":{},"sourceType":"module","externalDependencies":[]}